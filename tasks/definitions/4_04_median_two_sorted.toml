[task]
id = "4_04_median_two_sorted"
tier = 4
title = "Median of Two Sorted Arrays"
language = "rust"

[task.description]
text = """
Given two sorted arrays nums1 and nums2, find the median of the combined sorted
array. The overall run time complexity must be O(log(min(m, n))).

Signature:
  fn find_median_sorted(nums1: &[i32], nums2: &[i32]) -> f64

Use a binary search approach on the shorter array. Partition both arrays such that
all elements on the left side are <= all elements on the right side, and the left
side has half of the total elements.

If the total length is odd, return the middle element as f64.
If even, return the average of the two middle elements.

At least one of the two arrays will be non-empty.
"""

[task.constraints]
time_limit_seconds = 5
must_use = []
forbidden = []

[task.tests]
[[task.tests.cases]]
name = "test_simple_odd"
code = """
let result = find_median_sorted(&[1, 3], &[2]);
assert!((result - 2.0).abs() < 1e-9);
"""

[[task.tests.cases]]
name = "test_simple_even"
code = """
let result = find_median_sorted(&[1, 2], &[3, 4]);
assert!((result - 2.5).abs() < 1e-9);
"""

[[task.tests.cases]]
name = "test_one_empty"
code = """
let result = find_median_sorted(&[], &[1, 2, 3, 4, 5]);
assert!((result - 3.0).abs() < 1e-9);
"""

[[task.tests.cases]]
name = "test_single_elements"
code = """
let result = find_median_sorted(&[1], &[2]);
assert!((result - 1.5).abs() < 1e-9);
"""

[[task.tests.cases]]
name = "test_non_overlapping"
code = """
let result = find_median_sorted(&[1, 2, 3], &[10, 20, 30]);
assert!((result - 6.5).abs() < 1e-9);
"""

[[task.tests.cases]]
name = "test_identical"
code = """
let result = find_median_sorted(&[5, 5, 5], &[5, 5, 5]);
assert!((result - 5.0).abs() < 1e-9);
"""

[[task.tests.cases]]
name = "test_large_disparity"
code = """
let result = find_median_sorted(&[1], &[2, 3, 4, 5, 6, 7, 8]);
assert!((result - 4.5).abs() < 1e-9);
"""
